# 视觉与设计系统（Persona 5 对齐）

本项目 UI 的目标是对齐《女神异闻录 5》（Persona 5）这类“海报化 / 漫画印刷感”的强风格化界面语言：**高对比、厚描边、斜切构图、拼贴材质、半调网点与噪点纹理**。Memphis 作为次级参考，但整体气质以 Persona5 的“反叛 UI”优先。

参考实现：暂无（原 demo 已移除；以本文档规范为准）。

---

## 1. 核心原则（必须一直成立）

- **黑色描边是骨架**：所有可交互或可被注意到的元素，都应有 `Ink` 描边（常见 4–5px）。
- **红色是主旋律**：`RebelRed` 是 Persona5 对齐的主强调色；其余强调色用于语义（立场/状态），不能抢主色戏份。
- **投影是冲击力来源**：优先使用“偏移投影”（offset shadow），少用模糊阴影；必要时可叠两层投影（先 `RebelRed`、再 `Ink`）。
- **轻微的不规则**：允许小角度旋转（±0.5°~2°）、`skew`、不规则裁切（`clip-path`），但以可读性为底线。
- **纹理必须可感知**：背景/面/图表应带噪点、划痕、半调网点等“印刷质感”，避免纯平。
- **斜切优先于圆角**：Persona5 的张力来自斜切与锐利折角；圆角只在需要“亲和/可读”时点到为止。

---

## 2. Persona5 视觉语法（组件母题）

- **Calling Card / 标签条**：标题区像贴上去的纸条（大写、窄体、强描边、轻微旋转）。
- **对角分割与切片**：页面/容器常用对角线分割（斜条、斜切卡片、倾斜分隔带）。
- **漫画印刷层**：半调网点（screen tone）+ 噪点做底；信息层用大色块 + `Ink` 描边压上去。
- **“剪纸”裁切**：多边形 `clip-path` + 轻微错位阴影，形成“撕/切”的动势（避免柔和圆角矩形堆叠）。
- **符号化引导**：用 `▶`、`◉`、三角箭头等符号做提示与焦点；少用细线图标。

---

## 3. 调色板（Design Tokens）

### 3.1 基础色

| Token | Hex | 用途 |
|---|---:|---|
| `Ink` | `#1A1A1D` | 主描边、深色面、主要文字、分割线 |
| `Paper` | `#FFFFFF` | 深色面上的文字/描边、卡片内衬高光 |
| `Concrete-300` | `#C9C9C9` | 默认背景（“混凝土墙面”） |
| `Concrete-200` | `#E5E5E5` | 卡片底、图表底、浅色面 |
| `Concrete-100` | `#D4D4D4` | 次级文字/弱对比（在深色面上） |

### 3.2 强调色（高饱和）

| Token | Hex | 用途 |
|---|---:|---|
| `RebelRed` | `#FF0033` | Persona5 主强调色、主 CTA、强警告 |
| `Acid` | `#FACC15` | 强调、标签、关键数值、中立立场 |
| `Electric` | `#2563EB` | 支持/正向立场、信息性高亮 |

> 规则：**强调色几乎永远配合 `Ink` 描边**，避免“纯色块 + 细边框”的弱冲击表现。

---

## 4. 语义色（立场 / 状态）

### 4.1 立场（Stance）

- `pro / 支持` → `Electric`（`#2563EB`）
- `con / 反对` → `RebelRed`（`#FF0033`）
- `neutral / 中立` → `Acid`（`#FACC15`）

描边与连线：统一使用 `Ink`（`#1A1A1D`），保证在任何底色上都“像被马克笔画出来”。

### 4.2 状态（UI Feedback）

- `error / over-budget / destructive`：以 `RebelRed` 为主色，可配合 `shake` 动效（短促、强烈、可关闭）。
- `disabled / pending`：以 `Concrete` 系列降饱和，并保留 `Ink` 描边（用“灰”而不是“透明”）。

---

## 5. 排版（Typography）

在强视觉的前提下，仍要保证论点文本可阅读：**“标题冲击、正文耐读、数据像机器打印”**。

- **标题 / 标签（Display）**：Bebas Neue / Oswald（英文大写 + 较大字距）；中文标题使用可读性更高的中文字体（如 LXGW WenKai 或 Noto Sans SC）作为 fallback。
- **正文（Long-form）**：中文优先 LXGW WenKai（PRD 已提及），避免过度紧缩；长段落避免全大写与过度倾斜。
- **数据 / 计数器 / 公式（Mono）**：等宽字（如 Courier New）；配合下划线、终端式前缀（例如 `票数_`、`权重_`）增强 Persona5 的“系统 UI”感。

### 5.1 富文本（TipTap / ProseMirror）

用于“观点正文 / hover Calling Card / 详情卡片”的排版文本：

- 存储：服务端持久化 `arguments.body_rich`（JSONB）；同时保留 `arguments.body` 作为纯文本回退与索引口径。
- 渲染：UI 以 `bodyRich` 为准渲染；若为空则显示 `body`。
- 安全：禁止直接存/渲染任意 HTML；仅允许通过 TipTap schema 的 nodes/marks 表达格式（链接需做 `href` 白名单与 `rel=noopener`）。
- 建议允许的最小格式集（v1.0）：段落、粗体、斜体、下划线、列表、引用、链接、标题（h1–h3）；暂不支持图片与任意嵌入。

---

## 6. 形状与组件语言

### 6.1 线条与边

- 主边框：4–5px `Ink`；可用虚线边（dashed）做“手绘/草图”层。
- 圆角：整体偏锐利；如需圆角，用小圆角或“不规则圆角”优先于标准圆角矩形。

### 6.2 影子（Shadow）

- 以“偏移投影”表达层级：`4px 4px 0 Ink` 这种硬投影优先。
- 可叠色投影强化冲击：例如先 `RebelRed` 再 `Ink`（参考 demo tooltip 的双层投影）。

### 6.3 材质（Texture）

- 背景：混凝土底色 + 噪点 + 划痕。
- 面内：半调网点（halftone）作为轻纹理覆盖，避免大面积纯色太“数码”。
- 拼贴：胶带（tape）、便利贴（sticky note）、撕裂边（tear-in）是常用母题。

---

## 7. 动效（Motion）

- `tooltip-snap`：信息卡出现应快速“弹入”，而非渐隐的玻璃风。
- `fade-in`：新出现的卡片/分区可用短暂淡入 + 轻微旋转归位。
- `shake`：只用于强警告（如超出预算），并考虑 `prefers-reduced-motion` 降级。

---

## 8. 不要做（风格偏离警示）

- 不做玻璃拟态（大面积毛玻璃、柔和渐变、细描边）。
- 不做低对比中性 UI（1px 边框、轻阴影、灰白卡片堆叠）。
- 不做过度装饰导致阅读困难（旋转过大、纹理过重、对比不足）。
